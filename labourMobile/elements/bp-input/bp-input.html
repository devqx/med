<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="bp-validator.html">

<dom-module id="bp-input">
    <template>

        <style>
            :host {
                display: inline-block;
            }

            input[is="iron-input"] {
                font: inherit;
                outline: none;
                box-shadow: none;
                border: none;
                width: auto;
                text-align: center;
            }
        </style>

        <bp-validator></bp-validator>

        <input is="iron-input" maxlength="3" bind-value="{{_bp1}}" size="3" aria-label="Systolic">
        /
        <input is="iron-input" maxlength="3" bind-value="{{_bp2}}" size="3" aria-label="Diastolic">

    </template>
</dom-module>

<script>
  Polymer({
    is: 'bp-input',

    behaviors: [
      Polymer.IronValidatableBehavior
    ],

    properties: {
      value: {
        notify: true,
        type: String
      },

      _bp1: {
        type: String
      },

      _bp2: {
        type: String
      },

      validator: {
        type: String,
        value: 'bp-validator'
      }
    },

    observers: [
      '_computeValue(_bp1,_bp2)'
    ],

    _computeValue: function(bp1, bp2) {
      this.value = bp1.trim() + '/' + bp2.trim();
    }
  });
</script>