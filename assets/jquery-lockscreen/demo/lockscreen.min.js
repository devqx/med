/* ===========================================================
# Lockscreen - v0.1.0
# ==============================================================
# Copyright (c) 2014 Catalin Ilinca
# Licensed MIT.
*/
!function(a){var b;return b={init:function(b,c){var d;this.el=b,this.$el=a(b),this.config=a.extend({},a.fn.lockScreen.defaults,c),this.$el.data("original-title",window.document.title),d=this.$el.data("original-title"),window._timeoutInterval=this.config.timeout,window._lockScreenFn=this.lockScreen,window._locked=this.config.locked,this.updateHtml(),window._lockScreen=a(".lock-screen"),window._passwordField=a(".lock-screen .current-user .password-field"),window._unlockMe=a(".lock-screen .current-user .unlock-me"),"yes"===a.cookie("locked")&&this.lockScreen(),0===a(".lock-screen").length&&this.logout(),window._timeout=setTimeout(function(){window._lockScreenFn()},window._timeoutInterval),this.guard()},updateHtml:function(){this.$el.addClass("lockableScreen"),this.$el.prepend(this.config.template),this.$logo=a(".lock-screen .current-user h2 img"),this.$logo.attr("alt",this.config.app),this.$logo.attr("src",this.config.logo),this.$avatar=a(".lock-screen .current-user span img"),this.$avatar.attr("alt",this.config.name),this.$avatar.attr("src",this.config.avatar),this.$current_user=a(".lock-screen .current-user h4"),this.$current_user.html(this.config.name),this.$passwordField=a(".lock-screen .current-user .password-field"),this.$passwordField.attr("placeholder",this.config.placeholder),this.$unlockMe=a(".lock-screen .current-user .unlock-me"),this.$unlockMe.html(this.config.unlockMe)},lockScreen:function(){window.document.title=window._locked,window._passwordField.focus(),window._lockScreen.fadeIn(),a.cookie("locked","yes")},guard:function(){var b;return b=this,a(document).on("mousemove",function(){0===a(".lock-screen").length&&b.config.logout(),clearTimeout(window._timeout),window._lockScreen.is(":hidden")&&(window._timeout=setTimeout(function(){window._lockScreenFn()},window._timeoutInterval))})}},a.fn.lockScreen=function(){var a;return a=Object.create(b),this.each(function(){a.init(this)})},a.fn.lockScreen.defaults={timeout:6e4,logout:function(){console.warn("You have to implement this function!")},unlock:function(){console.warn("You have to implement this function!")},app:"jQuery LockScreen",locked:"Locked!",logo:"http://jquery-lockscreen.s3.amazonaws.com/logo.png",bg:"http://jquery-lockscreen.s3.amazonaws.com/lock-screen.jpg",name:"John Doe",avatar:"http://jquery-lockscreen.s3.amazonaws.com/current-user.png",placeholder:"type password",unlockMe:"I'm here. Let me in!",template:'<div class="lock-screen" style="display: none">        <div class="current-user">          <h2><img alt="" src=""></h2>          <span><img alt="" height="80" src="" width="80"></span>          <h4></h4>          <input autofocus="" class="password-field" placeholder="" type="password">          <button class="unlock-me"></button>        </div>      </div>'}}(jQuery);